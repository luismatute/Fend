{"version":3,"sources":["modules/fend.js"],"names":["define","$","pluginName","extend","fn","fend","options","this","length","console","warn","data","prop","validator","on","evt","settings","debug","preventDefault","validate","submit","rules","command","argument","staticRules","existingRules","param","filtered","element","form","normalizeRule","messages","name","each","split","index","method","removeAttr","normalizeRules","classRules","attributeRules","dataRules","log","required","attr","remote","defaults","currentForm","init","format","source","params","arguments","args","makeArray","unshift","apply","constructor","Array","slice","i","n","replace","RegExp","excludedKeys","isAJAX","errorClass","validClass","fieldWrap","focusInvalid","onkeydown","onkeyup","check","call","onsubmit","highlight","_this","$element","closest","addClass","removeClass","unhighlight","getDefault","key","undefined","optionAccessor","myvalue","email","url","date","number","digits","equalTo","maxlength","minlength","max","min","prototype","delegate","event","eventType","type","is","ignore","target","error","submitted","pendingRequest","pending","invalid","reset","depend","dependTypes","boolean","string","function","optional","val","elementValue","methods","clean","selector","findByName","filter","validity","badInput","result","rule","rulesCount","map","dependencyMismatch","parameters","e","window","id","TypeError","message","checkable","test","destroy","resetForm","off","removeData","classRuleSettings","creditcard","addClassRules","className","String","classes","normalizeAttributeRule","value","Number","isNaN","getAttribute","charAt","toUpperCase","substring","toLowerCase","depends","keepRule","parameter","isFunction","parts","isArray","autoCreateRanges","range","rangelength","transformed","nodeName","getLength","Date","toString","cDigit","nCheck","nDigit","bEven","parseInt","onfocusout","valid","previous","previousValue","originalMessage","old","startRequest","ajax","mode","port","dataType","context","success","response","errors","formSubmitted","prepareElement","successList","push","showErrors","defaultMessage","stopRequest"],"mappings":"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","file":"modules/fend.js","sourcesContent":["// Validation Plugin\n// Date: August 2015\n// Developers:\n//  Luis Matute      \t- luis.matute@me.com\n// Description:\n//\n// ------------------------------------------------------------------\n\ndefine(['jquery'], function ($) {\n\t'use strict';\n\n\tvar pluginName = 'fend';\n\n\t$.extend($.fn, {\n\t\t// Instantiating Plugins\n\t\tfend: function (options) {\n\n\t\t\tif (!this.length) {\n\t\t\t\tconsole.warn(\"Please give me a selector\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check if a fend instance for this form was already created\n\t\t\tvar fend = $.data( this[ 0 ], pluginName );\n\t\t\tif ( fend ) {\n\t\t\t\treturn fend;\n\t\t\t}\n\n\t\t\t// No validate to prevent HTML5 native validation system\n\t\t\tthis.prop('novalidate', true);\n\n\t\t\tfend = new $.validator( options, this [0] );\n\t\t\t$.data( this[ 0 ], pluginName, fend );\n\n\t\t\t// Maskings\n\t\t\tthis.on('onkeydown', function (evt) {\n\t\t\t\t// Prevent maskings\n\t\t\t\tif ( fend.settings.debug ) evt.preventDefault();\n\t\t\t});\n\n\t\t\t// Validations\n\t\t\tthis.on('onkeyup', function (evt) {\n\t\t\t\t// Prevent Validations\n\t\t\t\tif ( fend.settings.debug || !fend.settings.validate ) evt.preventDefault();\n\t\t\t});\n\n\t\t\t// Validations on submit\n\t\t\tthis.on('onsubmit', function (evt) {\n\t\t\t\t// Prevent Validations\n\t\t\t\tif ( fend.settings.debug || !fend.settings.submit ) evt.preventDefault();\n\t\t\t});\n\n\t\t\treturn fend;\n\t\t},\n\n\t\trules: function( command, argument ) {\n\t\t\tvar element = this[ 0 ],\n\t\t\t\tsettings, staticRules, existingRules, data, param, filtered;\n\n\t\t\tif ( command ) {\n\t\t\t\tsettings = $.data( element.form, pluginName ).settings;\n\t\t\t\tstaticRules = settings.rules;\n\t\t\t\texistingRules = $.validator.staticRules( element );\n\t\t\t\tswitch ( command ) {\n\t\t\t\tcase \"add\":\n\t\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\n\t\t\t\t\t// remove messages from rules, but allow them to be set separately\n\t\t\t\t\tdelete existingRules.messages;\n\t\t\t\t\tstaticRules[ element.name ] = existingRules;\n\t\t\t\t\tif ( argument.messages ) {\n\t\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"remove\":\n\t\t\t\t\tif ( !argument ) {\n\t\t\t\t\t\tdelete staticRules[ element.name ];\n\t\t\t\t\t\treturn existingRules;\n\t\t\t\t\t}\n\t\t\t\t\tfiltered = {};\n\t\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\n\t\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\n\t\t\t\t\t\tdelete existingRules[ method ];\n\t\t\t\t\t\tif ( method === \"required\" ) {\n\t\t\t\t\t\t\t$( element ).removeAttr( \"aria-required\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn filtered;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata = $.validator.normalizeRules(\n\t\t\t\t$.extend(\n\t\t\t\t\t{},\n\t\t\t\t\t$.validator.classRules( element ),\n\t\t\t\t\t$.validator.attributeRules( element ),\n\t\t\t\t\t$.validator.dataRules( element ),\n\t\t\t\t\t$.validator.staticRules( element )\n\t\t\t\t), element\n\t\t\t);\n\n\t\t\tconsole.log(data);\n\t\t\t// make sure required is at front\n\t\t\tif ( data.required ) {\n\t\t\t\tparam = data.required;\n\t\t\t\tdelete data.required;\n\t\t\t\tdata = $.extend( { required: param }, data );\n\t\t\t\t$( element ).attr( \"aria-required\", \"true\" );\n\t\t\t}\n\n\t\t\t// make sure remote is at back\n\t\t\tif ( data.remote ) {\n\t\t\t\tparam = data.remote;\n\t\t\t\tdelete data.remote;\n\t\t\t\tdata = $.extend( data, { remote: param });\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\t});\n\n\t// Constructor\n\t$.validator = function ( settings, form ) {\n\t\tthis.settings = $.extend( true, {}, $.validator.defaults, settings );\n\t\tthis.currentForm = form;\n\t\tthis.init();\n\t};\n\n\t// Small template engine, used to replace {n} placeholders\n\t// with parameters provided\n\t$.validator.format = function( source, params ) {\n\t\tif ( arguments.length === 1 ) {\n\t\t\treturn function() {\n\t\t\t\tvar args = $.makeArray( arguments );\n\t\t\t\targs.unshift( source );\n\t\t\t\treturn $.validator.format.apply( this, args );\n\t\t\t};\n\t\t}\n\t\tif ( arguments.length > 2 && params.constructor !== Array  ) {\n\t\t\tparams = $.makeArray( arguments ).slice( 1 );\n\t\t}\n\t\tif ( params.constructor !== Array ) {\n\t\t\tparams = [ params ];\n\t\t}\n\t\t$.each( params, function( i, n ) {\n\t\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n\t\t\t\treturn n;\n\t\t\t});\n\t\t});\n\t\treturn source;\n\t};\n\n\t$.extend( $.validator, {\n\t\tdefaults: {\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t// Shift       => 16\n\t\t\t// Ctrl        => 17\n\t\t\t// Alt/Option  => 18\n\t\t\t// Caps lock   => 20\n\t\t\t// End         => 35\n\t\t\t// Home        => 36\n\t\t\t// Left arrow  => 37\n\t\t\t// Up arrow    => 38\n\t\t\t// Right arrow => 39\n\t\t\t// Down arrow  => 40\n\t\t\t// Insert      => 45\n\t\t\t// Cmd         => 91\n\t\t\t// Num lock    => 144\n\t\t\t// AltGr key   => 225\n\t\t\texcludedKeys: [ 16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 91,144, 225 ],\n\t\t\tsubmit: true,\n\t\t\tisAJAX: true,\n\t\t\tvalidate: true,\n\t\t\terrorClass: 'error',\n\t\t\tvalidClass: 'valid',\n\t\t\tfieldWrap: 'field-wrap',\n\t\t\tdebug: false,\n\t\t\tfocusInvalid: true,\n\t\t\tonkeydown: function( element ) {\n\t\t\t\t// if ( fend.settings.debug ) evt.preventDefault();\n\t\t\t},\n\t\t\tonkeyup: function( element ) {\n\t\t\t\t// if ( fend.settings.debug ) evt.preventDefault();\n\t\t\t\tthis.check.call( this, element );\n\t\t\t},\n\t\t\tonsubmit: function( element ) {\n\t\t\t\t// if ( fend.settings.debug ) evt.preventDefault();\n\t\t\t},\n\t\t\thighlight: function ( element ) {\n\t\t\t\tvar _this = this;\n\t\t\t\tvar $element = $( element );\n\n\t\t\t\t$element\n\t\t\t\t\t.closest( '.'+_this.settings.fieldWrap )\n\t\t\t\t\t.addClass( _this.settings.errorClass )\n\t\t\t\t\t.removeClass( _this.settings.validClass );\n\t\t\t},\n\t\t\tunhighlight: function ( element ) {\n\t\t\t\tvar _this = this;\n\t\t\t\tvar $element = $( element );\n\n\t\t\t\t$element\n\t\t\t\t\t.closest( '.'+_this.settings.fieldWrap )\n\t\t\t\t\t.addClass( _this.settings.validClass )\n\t\t\t\t\t.removeClass( _this.settings.errorClass );\n\t\t\t}\n\t\t},\n\n\t\tgetDefault: function ( key ) {\n\t\t\tif ($.validator.defaults[key])\n\t\t\t\treturn $.validator.defaults[key];\n\t\t\telse\n\t\t\t\treturn undefined;\n\t\t},\n\n\t\t// Change a setting after initialization\n\t\toptionAccessor: function ( key, myvalue ) {\n\t\t\tif (typeof myvalue !== 'undefined') {\n\t\t\t\tthis.settings[key] = myvalue;\n\t\t\t} else {\n\t\t\t\treturn this.settings[key];\n\t\t\t}\n\t\t},\n\n\t\t// Error messages to be returned\n\t\tmessages: {\n\t\t\trequired: \"This field is required.\",\n\t\t\tremote: \"Please fix this field.\",\n\t\t\temail: \"Please enter a valid email address.\",\n\t\t\turl: \"Please enter a valid URL.\",\n\t\t\tdate: \"Please enter a valid date.\",\n\t\t\tnumber: \"Please enter a valid number.\",\n\t\t\tdigits: \"Please enter only digits.\",\n\t\t\tequalTo: \"Please enter the same value again.\",\n\t\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n\t\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n\t\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n\t\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" )\n\t\t},\n\n\t\tprototype: {\n\t\t\tinit: function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tthis.submitted = {};\n\t\t\t\tthis.pendingRequest = 0;\n\t\t\t\tthis.pending = {};\n\t\t\t\tthis.invalid = {};\n\t\t\t\tthis.reset();\n\n\t\t\t\t// delegate gets the event and calls it (if avail), sending fend as context\n\t\t\t\tfunction delegate( event ) {\n\t\t\t\t\tvar fend = $.data( _this.currentForm, pluginName ),\n\t\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n\t\t\t\t\t\tsettings = fend.settings;\n\n\t\t\t\t\tif ( settings[ eventType ] && !$( _this ).is( settings.ignore ) ) {\n\t\t\t\t\t\ttry\t{\n\t\t\t\t\t\t\tsettings[ eventType ].call( fend, event.target, event );\n\t\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$( this.currentForm )\n\t\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate keydown.validate\",\n\t\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n\t\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n\t\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n\t\t\t\t\t\t\"[type='radio'], [type='checkbox']\", delegate)\n\t\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t\t.on(\"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate);\n\t\t\t},\n\n\t\t\treset: function() {\n\t\t\t\t// reset states\n\t\t\t},\n\n\t\t\tdepend: function( param, element ) {\n\t\t\t\treturn this.dependTypes[typeof param] ? this.dependTypes[typeof param]( param, element ) : true;\n\t\t\t},\n\n\t\t\tdependTypes: {\n\t\t\t\t\"boolean\": function( param ) {\n\t\t\t\t\treturn param;\n\t\t\t\t},\n\t\t\t\t\"string\": function( param, element ) {\n\t\t\t\t\treturn !!$( param, element.form ).length;\n\t\t\t\t},\n\t\t\t\t\"function\": function( param, element ) {\n\t\t\t\t\treturn param( element );\n\t\t\t\t}\n\t\t\t},\n\n\t\t\toptional: function( element ) {\n\t\t\t\tvar val = this.elementValue( element );\n\t\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n\t\t\t},\n\n\t\t\tclean: function( selector ) {\n\t\t\t\treturn $( selector )[ 0 ];\n\t\t\t},\n\n\t\t\telementValue: function( element ) {\n\t\t\t\tvar val,\n\t\t\t\t\t$element = $( element ),\n\t\t\t\t\ttype = element.type;\n\n\t\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\n\t\t\t\t\treturn this.findByName( element.name ).filter(\":checked\").val();\n\t\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n\t\t\t\t\treturn element.validity.badInput ? false : $element.val();\n\t\t\t\t}\n\n\t\t\t\tval = $element.val();\n\t\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\t\treturn val.replace(/\\r/g, \"\" );\n\t\t\t\t}\n\t\t\t\treturn val;\n\t\t\t},\n\n\t\t\telement: function( element ) {\n\t\t\t\tvar $element = this.clean( element ),\n\t\t\t\t\tresult = true;\n\n\t\t\t\tresult = this.check( $element ) !== false;\n\t\t\t\tif ( result ) {\n\t\t\t\t\tdelete this.invalid[ $element.name ];\n\t\t\t\t} else {\n\t\t\t\t\tthis.invalid[ $element.name ] = true;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\tcheck: function ( element ) {\n\t\t\t\telement = this.clean( element );\n\n\t\t\t\tvar rules = $( element ).rules(),\n\t\t\t\t\trulesCount = $.map( rules, function( n, i ) {\n\t\t\t\t\t\treturn i;\n\t\t\t\t\t}).length,\n\t\t\t\t\tdependencyMismatch = false,\n\t\t\t\t\tval = this.elementValue( element ),\n\t\t\t\t\tresult, method, rule;\n\n\t\t\t\tfor ( method in rules ) {\n\t\t\t\t\trule = { method: method, parameters: rules[ method ] };\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n\t\t\t\t\t\t// if a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n\t\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdependencyMismatch = false;\n\n\t\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\t\t// this.formatAndAdd( element, rule );\n\t\t\t\t\t\t\tthis.settings.highlight.call( this, element );\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch( e ) {\n\t\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( e instanceof TypeError ) {\n\t\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.settings.unhighlight.call( this, element );\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcheckable: function( element ) {\n\t\t\t\treturn ( /radio|checkbox/i ).test( element.type );\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\tthis.resetForm();\n\n\t\t\t\t// destroy this shit\n\t\t\t\t$( this.currentForm )\n\t\t\t\t\t.off( \".validate\" )\n\t\t\t\t\t.removeData( pluginName );\n\t\t\t}\n\t\t},\n\n\t\tclassRuleSettings: {\n\t\t\trequired: { required: true },\n\t\t\temail: { email: true },\n\t\t\turl: { url: true },\n\t\t\tdate: { date: true },\n\t\t\tnumber: { number: true },\n\t\t\tdigits: { digits: true },\n\t\t\tcreditcard: { creditcard: true }\n\t\t},\n\n\t\taddClassRules: function( className, rules ) {\n\t\t\tif ( className.constructor === String ) {\n\t\t\t\tthis.classRuleSettings[ className ] = rules;\n\t\t\t} else {\n\t\t\t\t$.extend( this.classRuleSettings, className );\n\t\t\t}\n\t\t},\n\n\t\tclassRules: function( element ) {\n\t\t\tvar rules = {},\n\t\t\t\tclasses = $( element ).attr( \"class\" );\n\n\t\t\tif ( classes ) {\n\t\t\t\t$.each( classes.split( \" \" ), function() {\n\t\t\t\t\tif ( this in $.validator.classRuleSettings ) {\n\t\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn rules;\n\t\t},\n\n\t\tnormalizeAttributeRule: function( rules, type, method, value ) {\n\n\t\t\t// convert the value to a number for number inputs, and for text for backwards compability\n\t\t\t// allows type=\"date\" and others to be compared as strings\n\t\t\tif ( /min|max/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n\t\t\t\tvalue = Number( value );\n\n\t\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\t\tif ( isNaN( value ) ) {\n\t\t\t\t\tvalue = undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( value || value === 0 ) {\n\t\t\t\trules[ method ] = value;\n\t\t\t} else if ( type === method && type !== \"range\" ) {\n\n\t\t\t\t// exception: the jquery validate 'range' method\n\t\t\t\t// does not test for the html5 'range' type\n\t\t\t\trules[ method ] = true;\n\t\t\t}\n\t\t},\n\n\t\tattributeRules: function( element ) {\n\t\t\tvar rules = {},\n\t\t\t\t$element = $( element ),\n\t\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\t\tmethod, value;\n\n\t\t\tfor ( method in $.validator.methods ) {\n\n\t\t\t\t// support for <input required> in both html5 and older browsers\n\t\t\t\tif ( method === \"required\" ) {\n\t\t\t\t\tvalue = element.getAttribute( method );\n\n\t\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\t\tvalue = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// force non-HTML5 browsers to return bool\n\t\t\t\t\tvalue = !!value;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = $element.attr( method );\n\t\t\t\t}\n\n\t\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t\t}\n\n\t\t\t// maxlength may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n\t\t\t\tdelete rules.maxlength;\n\t\t\t}\n\n\t\t\treturn rules;\n\t\t},\n\n\t\tdataRules: function( element ) {\n\t\t\tvar rules = {},\n\t\t\t\t$element = $( element ),\n\t\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\t\tmethod, value;\n\n\t\t\tfor ( method in $.validator.methods ) {\n\t\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\t\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t\t}\n\t\t\treturn rules;\n\t\t},\n\n\t\tstaticRules: function( element ) {\n\t\t\tvar rules = {},\n\t\t\t\tvalidator = $.data( element.form, pluginName );\n\n\t\t\tif ( validator.settings.rules ) {\n\t\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n\t\t\t}\n\t\t\treturn rules;\n\t\t},\n\n\t\tnormalizeRules: function( rules, element ) {\n\t\t\t// handle dependency check\n\t\t\t$.each( rules, function( prop, val ) {\n\t\t\t\t// ignore rule when param is explicitly false, eg. required:false\n\t\t\t\tif ( val === false ) {\n\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( val.param || val.depends ) {\n\t\t\t\t\tvar keepRule = true;\n\t\t\t\t\tswitch ( typeof val.depends ) {\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tkeepRule = val.depends.call( element, element );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif ( keepRule ) {\n\t\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// evaluate parameters\n\t\t\t$.each( rules, function( rule, parameter ) {\n\t\t\t\trules[ rule ] = $.isFunction( parameter ) ? parameter( element ) : parameter;\n\t\t\t});\n\n\t\t\t// clean number parameters\n\t\t\t$.each([ \"minlength\", \"maxlength\" ], function() {\n\t\t\t\tif ( rules[ this ] ) {\n\t\t\t\t\trules[ this ] = Number( rules[ this ] );\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.each([ \"rangelength\", \"range\" ], function() {\n\t\t\t\tvar parts;\n\t\t\t\tif ( rules[ this ] ) {\n\t\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\n\t\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ]), Number( rules[ this ][ 1 ] ) ];\n\t\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\n\t\t\t\t\t\tparts = rules[ this ].replace(/[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n\t\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ]), Number( parts[ 1 ] ) ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ( $.validator.autoCreateRanges ) {\n\t\t\t\t// auto-create ranges\n\t\t\t\tif ( rules.min !== null && rules.max !== null ) {\n\t\t\t\t\trules.range = [ rules.min, rules.max ];\n\t\t\t\t\tdelete rules.min;\n\t\t\t\t\tdelete rules.max;\n\t\t\t\t}\n\t\t\t\tif ( rules.minlength !== null && rules.maxlength !== null ) {\n\t\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\n\t\t\t\t\tdelete rules.minlength;\n\t\t\t\t\tdelete rules.maxlength;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn rules;\n\t\t},\n\n\t\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\t\tnormalizeRule: function( data ) {\n\t\t\tif ( typeof data === \"string\" ) {\n\t\t\t\tvar transformed = {};\n\t\t\t\t$.each( data.split( /\\s/ ), function() {\n\t\t\t\t\ttransformed[ this ] = true;\n\t\t\t\t});\n\t\t\t\tdata = transformed;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\n\t\tmethods: {\n\n\t\t\trequired: function( value, element, param ) {\n\t\t\t\t// check if dependency is met\n\t\t\t\tif ( !this.depend( param, element ) ) {\n\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t}\n\t\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\n\t\t\t\t\t// could be an array for select-multiple or a string, both are fine this way\n\t\t\t\t\tvar val = $( element ).val();\n\t\t\t\t\treturn val && val.length > 0;\n\t\t\t\t}\n\t\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\t\treturn this.getLength( value, element ) > 0;\n\t\t\t\t}\n\t\t\t\treturn value.length > 0;\n\t\t\t},\n\n\t\t\temail: function( value, element ) {\n\t\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t\t// Retrieved 2014-01-14\n\t\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t\t// Or use custom methods to implement your own email validation\n\t\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n\t\t\t},\n\n\t\t\turl: function( value, element ) {\n\n\t\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t\t// modified to allow protocol-relative URLs\n\t\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n\t\t\t},\n\n\t\t\tdate: function( value, element ) {\n\t\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n\t\t\t},\n\n\t\t\tnumber: function( value, element ) {\n\t\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n\t\t\t},\n\n\t\t\tdigits: function( value, element ) {\n\t\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\n\t\t\t},\n\n\t\t\t// based on http://en.wikipedia.org/wiki/Luhn_algorithm\n\t\t\tcreditcard: function( value, element ) {\n\t\t\t\tif ( this.optional( element ) ) {\n\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t}\n\t\t\t\t// accept only spaces, digits and dashes\n\t\t\t\tif ( /[^0-9 \\-]+/.test( value ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar nCheck = 0,\n\t\t\t\t\tnDigit = 0,\n\t\t\t\t\tbEven = false,\n\t\t\t\t\tn, cDigit;\n\n\t\t\t\tvalue = value.replace( /\\D/g, \"\" );\n\n\t\t\t\t// Basing min and max length on\n\t\t\t\t// http://developer.ean.com/general_info/Valid_Credit_Card_Types\n\t\t\t\tif ( value.length < 13 || value.length > 19 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tfor ( n = value.length - 1; n >= 0; n--) {\n\t\t\t\t\tcDigit = value.charAt( n );\n\t\t\t\t\tnDigit = parseInt( cDigit, 10 );\n\t\t\t\t\tif ( bEven ) {\n\t\t\t\t\t\tif ( ( nDigit *= 2 ) > 9 ) {\n\t\t\t\t\t\t\tnDigit -= 9;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnCheck += nDigit;\n\t\t\t\t\tbEven = !bEven;\n\t\t\t\t}\n\n\t\t\t\treturn ( nCheck % 10 ) === 0;\n\t\t\t},\n\n\t\t\tminlength: function( value, element, param ) {\n\t\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\t\treturn this.optional( element ) || length >= param;\n\t\t\t},\n\n\t\t\tmaxlength: function( value, element, param ) {\n\t\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\t\treturn this.optional( element ) || length <= param;\n\t\t\t},\n\n\t\t\trangelength: function( value, element, param ) {\n\t\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n\t\t\t},\n\n\t\t\tmin: function( value, element, param ) {\n\t\t\t\treturn this.optional( element ) || value >= param;\n\t\t\t},\n\n\t\t\tmax: function( value, element, param ) {\n\t\t\t\treturn this.optional( element ) || value <= param;\n\t\t\t},\n\n\t\t\trange: function( value, element, param ) {\n\t\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n\t\t\t},\n\n\t\t\tequalTo: function( value, element, param ) {\n\t\t\t\t// bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\t\t// TODO find a way to bind the event just once, avoiding the unbind-rebind overhead\n\t\t\t\tvar target = $( param );\n\t\t\t\tif ( this.settings.onfocusout ) {\n\t\t\t\t\ttarget.off( \".validate-equalTo\" ).on( \"blur.validate-equalTo\", function() {\n\t\t\t\t\t\t$( element ).valid();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn value === target.val();\n\t\t\t},\n\n\t\t\tremote: function( value, element, param ) {\n\t\t\t\tif ( this.optional( element ) ) {\n\t\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t\t}\n\n\t\t\t\tvar previous = this.previousValue( element ),\n\t\t\t\t\tvalidator, data;\n\n\t\t\t\tif (!this.settings.messages[ element.name ] ) {\n\t\t\t\t\tthis.settings.messages[ element.name ] = {};\n\t\t\t\t}\n\t\t\t\tprevious.originalMessage = this.settings.messages[ element.name ].remote;\n\t\t\t\tthis.settings.messages[ element.name ].remote = previous.message;\n\n\t\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\n\t\t\t\tif ( previous.old === value ) {\n\t\t\t\t\treturn previous.valid;\n\t\t\t\t}\n\n\t\t\t\tprevious.old = value;\n\t\t\t\tvalidator = this;\n\t\t\t\tthis.startRequest( element );\n\t\t\t\tdata = {};\n\t\t\t\tdata[ element.name ] = value;\n\t\t\t\t$.ajax( $.extend( true, {\n\t\t\t\t\tmode: \"abort\",\n\t\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tdata: data,\n\t\t\t\t\tcontext: validator.currentForm,\n\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\t\terrors, message, submitted;\n\n\t\t\t\t\t\tvalidator.settings.messages[ element.name ].remote = previous.originalMessage;\n\t\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\t\tvalidator.prepareElement( element );\n\t\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\t\tvalidator.successList.push( element );\n\t\t\t\t\t\t\tdelete validator.invalid[ element.name ];\n\t\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, \"remote\" );\n\t\t\t\t\t\t\terrors[ element.name ] = previous.message = $.isFunction( message ) ? message( value ) : message;\n\t\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\n\t\t\t\t\t\t\tvalidator.showErrors( errors );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\t\tvalidator.stopRequest( element, valid );\n\t\t\t\t\t}\n\t\t\t\t}, param ) );\n\t\t\t\treturn \"pending\";\n\t\t\t}\n\t\t}\n\n\t});\n\tconsole.log($.validator.methods);\n});\n"],"sourceRoot":"/source/"}